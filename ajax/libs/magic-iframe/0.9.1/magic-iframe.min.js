!function(){"use strict";if(window.postMessage){var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),b=document.currentScript;if(null==b){var c=document.getElementsByTagName("script");b=c[c.length-1]}var d=!1,e=function(){d||(window.addEventListener?window.addEventListener("message",function(a){n(a)},!1):window.attachEvent&&window.attachEvent("onmessage",function(a){n(a)}),d=!0)},f=[],g=function(a){if(a.length)for(var b=0;b<a.length;b++)g(a[b]);else e(),f.push(a)},h=function(a){var b="";if(null==a||"object"!=typeof a)return b;for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=c,b+="=",b+=encodeURIComponent(a[c]));return b},i=function(a){var b={};if(a+="",!a.length)return b;for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=",2);b[e[0]]=decodeURIComponent(e[1])}return b},j=function(){return Math.max(document.documentElement.offsetHeight,document.documentElement.scrollHeight)},k=!1,l=function(){if(window!==top&&!k){var b=function(){var a=h({h:j()});parent.postMessage(a,"*")};a(function c(){b(),a(c)}),k=!0}},m=function(a){for(var b=document.getElementsByTagName("iframe"),c=0;c<b.length;c++)if(b[c].contentWindow===a.source)return b[c];return null},n=function(a){var b=m(a),c=i(a.data);c.h&&o(b,c.h)},o=function(a,b){a.height=b,a.style.height=b+"px"},p=function(a){var b;if(document.querySelectorAll)b=document.querySelectorAll(a);else if(window.jQuery)b=jQuery(a);else{if(!a.match(/^#[a-z0-9_-]+$/i)){if(window.console){var c="MIF: no querySelectorAll, jQuery, or simple selector. MIF target ignored.";console.error?console.error(c):console.warn?console.warn(c):console.log&&console.log(c)}return}b=[document.getElementById(a.substring(1))]}for(var d=0;d<b.length;d++)r.parent(b[d]).init()},q=function(a){var c=document.createElement("iframe");b.id&&(c.id=b.id,b.id="mif-script-"+b.id),b.className&&(c.className=b.className,b.className=""),c.src=a,c.frameBorder=0,c.scrolling="no",c.allowfullscreen="true",c.style.display="block",c.style.webkitBoxSizing="border-box",c.style.mozBoxSizing="border-box",c.style.boxSizing="border-box",c.style.width="100%",c.style.overflow="hidden",b.parentNode.insertBefore(c,b.nextSibling),r.parent(c).init()},r=window.MagicIframe={child:function(){return{init:l}},parent:function(a){return{init:function(){g(a)}}},init:function(){return{parent:g,child:l}}};window.jQuery&&(jQuery.fn.magicIframe=function(){return this.each(function(){r.parent(this).init()}),this});var s=b.getAttribute("data-role");if(s=(s||"").toLowerCase(),"child"===s)r.child().init();else if("parent"===s){var t=b.getAttribute("data-target");t=t||"",t.length&&p(t);var u=b.getAttribute("data-url");u=u||"",u.length&&q(u)}}else if(window.console){var v="MIF: no postMessage support. MIF terminating.";console.error?console.error(v):console.warn?console.warn(v):console.log&&console.log(v)}}();
//# sourceMappingURL=magic-iframe.min.map