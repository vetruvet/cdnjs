{"version":3,"file":"magic-iframe.min.js","sources":["../src/magic-iframe.js"],"names":["window","postMessage","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","currentScript","document","scripts","getElementsByTagName","length","_registeredParentListeners","registerParentListeners","addEventListener","e","handleMessage","attachEvent","registeredIframes","initParent","element","q","push","encodeMessage","message","messageStr","key","hasOwnProperty","encodeURIComponent","decodeMessage","messageParts","split","part","decodeURIComponent","getFullHeight","Math","max","documentElement","offsetHeight","scrollHeight","_childInitialized","initChild","top","messageParent","h","parent","af","getSourceIframe","event","frames","contentWindow","source","iframe","data","setHeight","height","style","initParentBySelector","selector","elem","querySelectorAll","jQuery","match","console","error","warn","log","getElementById","substring","MagicIframe","init","initParentByURL","url","createElement","id","className","src","frameBorder","scrolling","allowfullscreen","display","webkitBoxSizing","mozBoxSizing","boxSizing","width","overflow","parentNode","insertBefore","nextSibling","child","fn","magicIframe","this","each","role","getAttribute","toLowerCase","target"],"mappings":"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"}